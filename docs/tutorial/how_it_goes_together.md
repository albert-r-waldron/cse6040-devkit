# Building an assignment

Other pages and examples show `AssignmentBuilder.build` calls. This page expands on what exactly happens in this call.

## Building Artifacts

The devkit updates three types of artifacts when an assignment is built.

- `assignment_config.yaml`
- `main.ipynb`
- Serialized Python objects (i.e. test cases, plugins, utils, data objects)  

### Updating `assignment_config.yaml`

Any contents of `assignment_config.yaml` which already exist won't be changed by running `build`. Updates to this file are limited to populating default values for

- new assignments (i.e. the first time you build)  
- new exercises (i.e. adding a new solution)
- new exercise test config (i.e. adding a sampler to an existing solution)

### Updating `main.ipynb`

There are two top-level kinds of cells in `main.ipynb` - those which were auto-generated from the devkit and those which were added to the notebook manually.

The ordering of *all* cells and the content of manually-added cells is unchanged by executing `build`.  

Auto-generated cells are tagged with metadata indicating which exercise the cell goes to and which type of cell it is. The content of these cells will always be overwritten to AssignmentBuilder state when `build` is called. Any new cells generated by the AssignmentBuilder are appended to the end of `main.ipynb`.  

Auto-generated cell tags are as follows:  

- *main.header* (markdown)  
  - header for the assignment dynamically generated from assignment_config
- *main.global_imports*
  - import modules as defined in assignment_config
  - load plugins/utils registered to AssignmentBuilder instance
- *\<exercise>.preload_objects*  
  - load preload object(s)
- *\<exercise>.prompt* (markdown)
  - guidance for the student to complete the exercise.
  - solution docstring (optional)
  - helper docstring (optional)
- *\<exercise>.solution*
  - helper function
  - solution function
  - demo function body (dedented to run at top-level indentation)
- *\<exercise>.test_boilerplate* (markdown)
  - demo function docstring
  - explanation of the test cell
- *\<exercise>.test*
  - derived from registered sampler and assignment_config

### Serialized Python objects

Test cases, registered plugins/utils, and preload objects all work by serializing Python objects, writing to files, and then reading the files as objects in `main.ipynb`.  
